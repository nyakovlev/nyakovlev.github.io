(this["webpackJsonpstubble-scratch"]=this["webpackJsonpstubble-scratch"]||[]).push([[0],[,,,,function(e,t,n){e.exports=n.p+"static/media/stubble_1_right.aa66f312.svg"},,function(e,t,n){e.exports=n.p+"static/media/shrek.74508cc1.png"},,,,,,,function(e,t,n){e.exports=n.p+"static/media/noir_sunset.3b48022c.svg"},function(e,t,n){e.exports=n.p+"static/media/stubble_1_left.e5dd0d5d.svg"},,,,function(e,t,n){e.exports=n.p+"static/media/on_the_ground.8efa9dc5.mp3"},function(e,t,n){e.exports=n.p+"static/media/tack.9e9ac630.wav"},function(e,t,n){e.exports=n(29)},,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(12),i=n.n(r),l=(n(25),n(1)),c=n(3),s=n(9),u=n(7),p=(n(26),n(2)),d=n(13),f=n.n(d),b=n(4),h=n.n(b),m=n(14),g=n.n(m);function v(){var e=Object(l.a)(["\n    width: 76px;\n    height: 158px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transform: translateY(-100%);\n"]);return v=function(){return e},e}function x(){var e=Object(l.a)(["\n    position: absolute;\n    width: 0;\n    height: 0;\n    top: 70%;\n"]);return x=function(){return e},e}var k=p.a.div(x()),w=p.a.img(v()),y={left:g.a,right:h.a};function E(e){return a.a.createElement(k,{style:{left:"".concat(e.pos,"px")}},a.a.createElement(w,{src:y[e.stance]}))}var j=n(6),O=n.n(j);function T(){var e=Object(l.a)(["\n    height: 200px;\n    position: absolute;\n    left: 1400px;\n    top: 0;\n    transform: translateY(-90%);\n"]);return T=function(){return e},e}var S=p.a.img(T());function P(e){return a.a.createElement(S,{src:O.a})}function _(){var e=Object(l.a)(["\n    position: absolute;\n    padding: 7px;\n    color: white;\n    border: 2px solid white;\n    background-color: rgb(11, 34, 51);\n    color: white;\n    font-family: monospace;\n    cursor: pointer;\n    :hover {\n        opacity: 0.7;\n    }\n"]);return _=function(){return e},e}function A(){var e=Object(l.a)(["\n    width: 100%;\n    margin-top: 30px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n"]);return A=function(){return e},e}function C(){var e=Object(l.a)(["\n    margin: 5px;\n    font-family: monospace;\n    text-align: left;\n"]);return C=function(){return e},e}function I(){var e=Object(l.a)(["\n    position: relative;\n    height: 230px;\n    overflow: hidden;\n\n    border-bottom: 1px solid white;\n"]);return I=function(){return e},e}function L(){var e=Object(l.a)(["\n    margin: 0 30px;\n    padding: 10px;\n    border: 2px solid white;\n    background-color: rgb(11, 34, 51);\n    color: white;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    width: 200px;\n    height: 400px;\n"]);return L=function(){return e},e}function D(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n"]);return D=function(){return e},e}function N(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.2);\n    z-index: 5;\n"]);return N=function(){return e},e}var W=p.a.div(N()),Y=p.a.div(D()),B=p.a.div(L()),z=p.a.div(I()),J=p.a.div(C()),M=p.a.div(A()),R=p.a.div(_());function H(e){return a.a.createElement(W,null,a.a.createElement(Y,null,a.a.createElement(B,null,a.a.createElement(z,null,a.a.createElement("img",{src:h.a,style:{position:"absolute",left:"-30px",top:"20px",width:"240px"}})),a.a.createElement(J,null,e.stubbleText)),a.a.createElement(B,null,a.a.createElement(z,null,a.a.createElement("img",{src:O.a,style:{position:"absolute",left:"-30px",top:"0px",width:"240px"}})),a.a.createElement(J,null,e.shrekText))),a.a.createElement(M,null,a.a.createElement(R,{onClick:e.controls.proceedShrekTalk},">>")))}function $(){var e=Object(l.a)(["\n    position: absolute;\n    padding: 7px;\n    color: white;\n    border: 2px solid white;\n    background-color: rgb(11, 34, 51);\n    color: white;\n    font-family: monospace;\n    cursor: pointer;\n    :hover {\n        opacity: 0.7;\n    }\n"]);return $=function(){return e},e}function q(){var e=Object(l.a)(["\n    width: 50px;\n    height: 12px;\n    background-color: #aaa;\n"]);return q=function(){return e},e}function F(){var e=Object(l.a)(["\n    width: 4800px;\n    background-color: #555;\n    position: absolute;\n    left: 0;\n    top: 70%;\n    height: 30%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-evenly;\n"]);return F=function(){return e},e}function G(){var e=Object(l.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 1600px;\n    height: 600px;\n    display: block;\n"]);return G=function(){return e},e}function K(){var e=Object(l.a)(["\n    width: 800px;\n    height: 600px;\n    overflow: hidden;\n    position: relative;\n"]);return K=function(){return e},e}var Q=p.a.div(K()),U=p.a.img(G()),V=p.a.div(F()),X=p.a.div(q()),Z=p.a.div($());function ee(e){var t,n;return Math.abs(e.stubblePos-1400)<200&&(t=a.a.createElement(Z,{style:{left:"".concat(1300,"px"),top:"-270px"},onClick:e.controls.talkToShrek},"Talk to detective")),e.shrekDialog&&(n=a.a.createElement(H,{controls:e.controls,stubbleText:e.stubbleText,shrekText:e.shrekText})),a.a.createElement(Q,null,a.a.createElement(U,{src:f.a,style:{left:"".concat(-e.panPos/5,"px")}}),a.a.createElement(V,{style:{left:"".concat(-e.panPos,"px")}},a.a.createElement(P,null),t,a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null),a.a.createElement(X,null)),a.a.createElement(E,{pos:e.stubblePos-e.panPos,stance:e.stubbleStance}),n)}var te=n(18),ne=n.n(te),oe=n(19),ae=n.n(oe);function re(){var e=Object(l.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n"]);return re=function(){return e},e}var ie={right:!1,left:!1},le=function(e){switch(e.key){case"ArrowRight":ie.right=!0;break;case"ArrowLeft":ie.left=!0}},ce=function(e){switch(e.key){case"ArrowRight":ie.right=!1;break;case"ArrowLeft":ie.left=!1}},se={playing:!1,stubblePos:10,stubbleStance:"right",panPos:0,shrekDialog:!1,stubbleText:"",shrekText:"",discussionStep:0},ue={setState:null},pe=function(e){var t=Object(u.a)({},se);if(t.stubbleStance=e<0?"left":"right",t.stubblePos=t.stubblePos+e,!t.shrekDialog&&t.stubblePos>=0&&t.stubblePos<=4724){if(t.stubblePos-t.panPos-400>60){var n=t.stubblePos-460;n+800<4800&&(t.panPos=n)}else if(t.stubblePos-t.panPos<264){var o=t.stubblePos-264;o>0&&(t.panPos=o)}de(t)}},de=function(e){for(var t in e)se[t]=e[t];ue.setState&&ue.setState(Object(u.a)(Object(u.a)({},se),e))};!function e(){setTimeout((function(){ie.right?pe(10):ie.left&&pe(-10),e()}),30)}();var fe=function(){if(!se.playing){!function e(){new Audio(ne.a).play(),setTimeout(e,165e3)}(),de({playing:!0,stubbleStance:"right"})}},be={talkToShrek:function(){de({shrekDialog:!0,discussionStep:0}),me()},proceedShrekTalk:function(){se.discussionStep<he.length?me():de({shrekDialog:!1})}},he=[{shrek:"Hello again. It's good to see you."},{stubble:"The feeling is not mutual. What are you doing in my part of town?"},{shrek:"I'm running a job for the Captain; a personal favor. Not that it's any of your business."},{stubble:"I thought you got discharged from the force after that stunt you pulled on me in Novosibirsk."},{shrek:"I did what had to be done. You wouldn't understand. People like me are like onions; we have... layers."},{stubble:"You might as well get on with describing the Captain's job; it's only a matter of time before I find out."},{shrek:"We're investigating some suspicious activity around the abandoned warehouse on 4th and Oak."}],me=function(){var e=Object(s.a)(Object.entries(he[se.discussionStep])[0],2),t=e[0],n=e[1];ve(t,n),de({discussionStep:se.discussionStep+1})},ge={stubble:"stubbleText",shrek:"shrekText"},ve=function(e,t){de({shrekText:"",stubbleText:""});var n="",o=ge[e],a=!1;setTimeout((function e(){n+=t.charAt(n.length),de(Object(c.a)({},o,n)),(a=!a)&&new Audio(ae.a).play(),n.length<t.length&&setTimeout(e,30)}),30)},xe=p.a.div(re());function ke(e){var t=Object(o.useState)(se),n=Object(s.a)(t,2),r=n[0],i=n[1];return ue.setState=i,document.removeEventListener("keydown",le),document.removeEventListener("keyup",ce),document.addEventListener("keydown",le),document.addEventListener("keyup",ce),a.a.createElement("div",{className:"App",onClick:fe},!r.playing&&a.a.createElement(xe,{onClick:fe},"Click to start adventure"),a.a.createElement("source",{id:"music",src:"media/on_the_ground.mp3"}),a.a.createElement("div",{className:"title"},"Stubble Environment - Build 1"),a.a.createElement(ee,Object.assign({},r,{controls:be})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[20,1,2]]]);
//# sourceMappingURL=main.3dd34ea5.chunk.js.map